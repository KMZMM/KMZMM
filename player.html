<video id="video" autoplay playsinline controls muted>
  <source id="videoSource" src="" type="video/mp4">
  Your browser does not support HTML5 video.
</video>

<script>
  const video = document.getElementById('video');
  const source = document.getElementById('videoSource');

  const params = new URLSearchParams(window.location.search);
  const videoUrl = params.get('video');

  if(videoUrl){
    source.src = decodeURIComponent(videoUrl);
    video.load();
    video.play().catch(() => console.log('Autoplay blocked'));
  } else {
    alert('No video URL provided!');
  }

  // Lock orientation
  if (screen.orientation && screen.orientation.lock) {
    screen.orientation.lock('landscape').catch(() => console.log('Orientation lock failed'));
  }

  // Fullscreen on double-click to avoid hiding controls
  video.addEventListener('dblclick', () => {
    if (video.requestFullscreen) video.requestFullscreen();
    else if (video.webkitEnterFullscreen) video.webkitEnterFullscreen();
  });

  window.addEventListener('load', () => {
    video.muted = true;
    video.play().catch(() => console.log('Autoplay blocked'));
  });
</script>
